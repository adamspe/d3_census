<!DOCTYPE html>
<html lang="en" ng-app="cpi.d3">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="lib/angular-multi-select/angular-multi-select.css" />
    <link rel="stylesheet" href="css/app.css" />
</head>
<body>
    <div class="container ng-cloak" ng-controller="CpiVisController" ng-cloak>
        <div class="row">
            <div class="col-md-12">
                <h2>{{data.labels[data.viz_key]}}</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 moving-calculator">
                <h4>Moving</h4>
                <div class="form-group">
                    <div class="input-group">
                    <div class="input-group-addon">From</div>
                    <input type="text" class="form-control" ng-model="movingFrom" typeahead="area as area.urban_area for area in current | filter:$viewValue | limitTo:10" />
                  </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                    <div class="input-group-addon">To</div>
                    <input type="text" class="form-control" ng-model="movingTo" typeahead="area as area.urban_area for area in current | filter:$viewValue | limitTo:10" />
                  </div>
                </div>
                <div>

                <dl class="dl-horizontal">
                  <dt ng-if="fromPcnt != null">From:</dt><dd ng-if="fromPcnt != null">{{fromPcnt | number:2}}%</dd>
                  <dt ng-if="toPcnt != null">To:</dt><dd ng-if="toPcnt != null">{{toPcnt | number:2}}%</dd>
                  <dt ng-if="costChange != null">Cost Change:</dt><dd ng-if="costChange != null">{{costChange | number:2}}%</dd>
                </dl>
                    <!--div ng-if="fromPcnt != null"><label>From:</label> {{fromPcnt | number:2}}%</div>
                    <div ng-if="toPcnt != null"><label>To:</label> {{toPcnt | number:2}}%</div>
                    <div ng-if="costChange != null"><label>Cost Change:</label> {{costChange | number:2}}%</div-->
                </div>
            </div>
            <div class="col-md-9">
                <svg class="chart"></svg>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <label>Visualize</label>
                    <select class="form-control"
                            ng-options="value as label for ( value, label ) in data.labels"
                            ng-model="data.viz_key"
                            ng-change="visualize()"></select>
                </div>
            </div>
            <div class="col-md-9">
                <div class="form-group">
                    <label>Include States</label>
                    <div multi-select
                             input-model="data.selections"
                             button-label="icon label"
                             item-label="icon label"
                             tick-property="selected"
                             orientation="horizontal"
                             is-disabled="status.working"
                             helper-elements="all none reset filter"
                             on-item-click="visualize()"
                             on-close="visualize()"
                             ></div>
                 </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">

            </div>
        </div>

<div class="cpi_info">
    <div class="cpi_info_control icons"><a href ng-click="closeCpiInfo()"><i class="fa fa-times-circle-o"></i></a></div>
    <div class="cpi_info_body"></div>
    <div class="cpi_info_control"><a href ng-click="dropSelectedState()">Remove {{cpiInfoState}} from dataset</a></div>
</div>

    </div>

<script src="lib/jquery/dist/jquery.min.js"></script>
<script src="lib/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="lib/angular/angular.js"></script>
<script src="lib/angular-resource/angular-resource.min.js"></script>
<script src="lib/angular-sanitize/angular-sanitize.min.js"></script>
<script src="lib/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
<script src="lib/angular-multi-select/angular-multi-select.js"></script>
<script src="lib/d3/d3.min.js"></script>
<script src="js/d3Utils.js"></script>
<script src="js/app.js"></script>
<!--script src="js/services.js"></script>
<script src="js/controllers.js"></script>
<script src="js/directives.js"></script>
<script src="js/filters.js"></script-->
</body>
</html>